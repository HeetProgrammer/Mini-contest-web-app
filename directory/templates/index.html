{% extends 'base.html' %}
{% block title %}
Home Page
{% endblock %}

{% block content %}
{% if current_user.is_authenticated %}
  

  {% if current_user.is_admin  %}
    {% for problem in problems %}
    <div class="card my-5" style="width: 18rem;">
  
  <div class="card-body">
    <h5 class="card-title">{{problem.title}}</h5>
    <p class="card-text">Description: {{problem.description}}</p>
    <p class="card-text">Sample Input: {{problem.sample_input}}</p>
    <p class="card-text">Sample Output: {{problem.sample_output}}</p>
  </div>
</div>
  {% endfor %}
  <div class="container d-flex justify-content-center"> 
    <a href="{{ url_for('add_problem')}}">
      <button type="button" class="btn btn-success my-5">Add Problem</button>
    </a>
  </div>
 

{% else %}
  <h1 class="my-5 text-center">Unsolved Problems</h1>
  <h3 class="my-5 text-center">Your current score is: {{ current_user.score }}</h3>

  {% for problem in problems %}
  {% if not problem in current_user.solved_problems %}
    <div class="card my-5 container" style="width: 18rem; background-color:darkkhaki">
  <div class="card-body">
    <h5 class="card-title">{{ problem.title }}</h5>
     </div>
  <a href="{{ url_for('view_problem', problem_id=problem.id)}}" class="btn btn-success">
    Solve Problem
  </a>
  <br><br>
</div>
{% endif %}
    
  {% endfor %}

  <h1 class="my-5 text-center">Solved Problems</h1>
  {% for problem in problems %}
  {% if problem in current_user.solved_problems %}
    <div class="card my-5 container" style="width: 18rem; background-color:darkkhaki">
  <div class="card-body">
    <h5 class="card-title">{{ problem.title }}</h5>
     </div>
  <a href="{{ url_for('view_problem', problem_id=problem.id)}}" class="btn btn-success">
    Solve Problem
  </a>
</div>
  {% endif %}
    
  {% endfor %}





{% endif %}
{% endif %}
<div class="container d-flex justify-content-center">
<a href="{{ url_for('view_leaderboard')}}">
  <button type="button" class="btn btn-dark my-5">View Leaderboard</button>
</a>
</div>
{% endblock%}